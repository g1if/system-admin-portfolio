# User Manager v2.0

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≥—Ä—É–ø–ø –∏ –ø–æ–ª–∏—Ç–∏–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –∞—É–¥–∏—Ç–æ–º –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üë• **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞—É–¥–∏—Ç** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, –≥—Ä—É–ø–ø–∞—Ö, —Å–µ—Å—Å–∏—è—Ö
- üõ°Ô∏è **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –ø–∞—Ä–æ–ª—å–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏, –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø—ã, UID –ø—Ä–æ–≤–µ—Ä–∫–∏
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏, –≤—Ö–æ–¥—ã –≤ —Å–∏—Å—Ç–µ–º—É
- üîê **–ê–Ω–∞–ª–∏–∑ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π** - sudo –¥–æ—Å—Ç—É–ø, —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≥—Ä—É–ø–ø—ã, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- üìã **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ —Ä—É—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚öôÔ∏è **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä–æ–≥–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏
- üß™ **–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ä–µ–¥—ã** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üö® **–£–º–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è** - —Ü–≤–µ—Ç–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ü–æ–ª–Ω—ã–π —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞—É–¥–∏—Ç
./scripts/user-manager.sh

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç—Ä–µ–±—É–µ—Ç sudo)
sudo ./scripts/user-manager.sh create-test

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
./scripts/user-manager.sh list-users

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥—Ä—É–ø–ø–∞—Ö
./scripts/user-manager.sh list-groups

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
./scripts/user-manager.sh check-security

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
./scripts/user-manager.sh monitor

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
./scripts/user-manager.sh report

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
./scripts/user-manager.sh config

–ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å–∏—Å—Ç–µ–º–Ω—ã–µ/–æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

    –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏: –¢–µ–∫—É—â–∏–µ –≤–æ—à–µ–¥—à–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

    –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤: –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –≤—Ö–æ–¥–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É

    UID –ø—Ä–æ–≤–µ—Ä–∫–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å UID 0 (–∫—Ä–æ–º–µ root)

üë• –ì—Ä—É–ø–ø—ã

    –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø –≤ —Å–∏—Å—Ç–µ–º–µ

    –ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã: sudo, wheel, root, adm, docker

    –ú–Ω–æ–≥–æ—á–ª–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã: –ì—Ä—É–ø–ø—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

    –ê—É–¥–∏—Ç —á–ª–µ–Ω—Å—Ç–≤–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø–∞—Ö

üîê –ü–∞—Ä–æ–ª—å–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏

    –°—Ä–æ–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π/–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –ø–∞—Ä–æ–ª–µ–π

    –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π: –ù–∞–ª–∏—á–∏–µ –ø–æ–ª–∏—Ç–∏–∫ pwquality/cracklib

    –ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä–æ–ª–µ–π: –°—Ç–∞—Ç—É—Å –∏—Å—Ç–µ—á–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

    –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—á–µ—Ç–∫–∏: –£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º –≤—Ö–æ–¥–æ–º

üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

    –ü—É—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏: –£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –±–µ–∑ –ø–∞—Ä–æ–ª–µ–π

    –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –≤—Ö–æ–¥–æ–≤ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è

    –ü—Ä–∞–≤–∞ –¥–æ–º–∞—à–Ω–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–ª–∞–¥–µ–Ω–∏—è –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

    Sudo –¥–æ—Å—Ç—É–ø: –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ sudoers –∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª:
bash

./scripts/user-manager.sh config

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ configs/user-manager.conf:
bash

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏—Ç–∞
AUDIT_SYSTEM_USERS=true
AUDIT_PRIVILEGED_GROUPS=true
CHECK_PASSWORD_POLICY=true
CHECK_ACCOUNT_SECURITY=true

# –ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
PRIVILEGED_GROUPS=("sudo" "wheel" "root" "adm" "staff" "docker")

# –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
PASSWORD_MAX_DAYS_WARN=90
INACTIVE_DAYS_WARN=90
LAST_LOGIN_DAYS_WARN=180

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
CHECK_EMPTY_PASSWORDS=true
CHECK_UID_0_USERS=true
CHECK_HOME_PERMISSIONS=true
CHECK_SUDO_ACCESS=true

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç—á–µ—Ç–æ–≤
AUTO_GENERATE_REPORT=true
REPORT_RETENTION_DAYS=30

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
bash

./scripts/user-manager.sh

–í—ã–≤–æ–¥:
text

üë• ===========================================
   –ü–†–û–î–í–ò–ù–£–¢–´–ô –ú–ï–ù–ï–î–ñ–ï–† –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô v2.0
   Tue Oct 28 23:45:30 PM EET 2025
   –ê–≤—Ç–æ—Ä: g1if
===========================================

üë§ –î–ï–¢–ê–õ–¨–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–•
  üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
    –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 42
    üë§ –û–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 3
    ‚öôÔ∏è  –°–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 39
    üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö: 2

  üîê –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤—Ö–æ–¥—ã:
    –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏: 1
    üíª user     pts/0        2025-10-28 23:30 (192.168.1.100)

    –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤—Ö–æ–¥—ã:
    üë§ user     pts/0        192.168.1.100    Tue Oct 28 23:30
    üë§ root     pts/1        192.168.1.100    Tue Oct 28 22:15

  üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å UID 0:
    ‚úÖ –¢–æ–ª—å–∫–æ root –∏–º–µ–µ—Ç UID 0

–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã
bash

sudo ./scripts/user-manager.sh create-test

–í—ã–≤–æ–¥:
text

üë§ –°–û–ó–î–ê–ù–ò–ï –¢–ï–°–¢–û–í–û–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
  –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: testuser_1698536730
  ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å testuser_1698536730 —Å–æ–∑–¥–∞–Ω
    üè† –î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /home/testuser_1698536730
    üîë –ü–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: TestPass123!_1698536730
    üë• –ì—Ä—É–ø–ø–∞ testgroup_1698536730 —Å–æ–∑–¥–∞–Ω–∞
    ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É
    ‚öôÔ∏è  –ü–æ–ª–∏—Ç–∏–∫–∞ –ø–∞—Ä–æ–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
  ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ

  üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:
    sudo userdel -r testuser_1698536730
    sudo groupdel testgroup_1698536730 2>/dev/null || true

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
bash

./scripts/user-manager.sh monitor

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∂–∏–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

    üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

    üëÅÔ∏è –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π

    üîê –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø

    ‚ö†Ô∏è –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

–ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

    üö® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å UID 0 - –∫—Ä–æ–º–µ root

    üö® –£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –±–µ–∑ –ø–∞—Ä–æ–ª–µ–π - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É–≥—Ä–æ–∑–∞

    üö® –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ sudo - –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞

–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

    ‚ö†Ô∏è –î–æ–ª–≥–∏–π —Å—Ä–æ–∫ –ø–∞—Ä–æ–ª–µ–π - –±–æ–ª–µ–µ 90 –¥–Ω–µ–π

    ‚ö†Ô∏è –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —É—á–µ—Ç–∫–∏ - –±–µ–∑ –≤—Ö–æ–¥–∞ –±–æ–ª–µ–µ 180 –¥–Ω–µ–π

    ‚ö†Ô∏è –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ–º–∞—à–Ω–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

    üí° –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª–∏—Ç–∏–∫ –ø–∞—Ä–æ–ª–µ–π - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

    üí° –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π - –ø—Ä–æ–≤–µ—Ä–∫–∞ sudo –¥–æ—Å—Ç—É–ø–∞

    üí° –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ - –Ω–µ–æ–±—ã—á–Ω—ã–µ –≤—Ö–æ–¥—ã –≤ —Å–∏—Å—Ç–µ–º—É

–û—Ç—á–µ—Ç—ã
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã

–ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞—É–¥–∏—Ç–∞:
bash

./scripts/user-manager.sh

–†—É—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
bash

./scripts/user-manager.sh report

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞:

    üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≥—Ä—É–ø–ø

    üîê –°–æ—Å—Ç–∞–≤ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø

    üö® –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

    üìÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Å—Ä–µ–¥–∞–º–∏
–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
bash

sudo ./scripts/user-manager.sh create-test

–°–æ–∑–¥–∞–µ—Ç:

    üë§ –¢–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–∞–¥–µ–∂–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º

    üë• –¢–µ—Å—Ç–æ–≤—É—é –≥—Ä—É–ø–ø—É

    ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É –ø–∞—Ä–æ–ª–µ–π

    üè† –î–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏

–û—á–∏—Å—Ç–∫–∞
bash

sudo userdel -r testuser_TIMESTAMP
sudo groupdel testgroup_TIMESTAMP

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
–ì—Ä—É–ø–ø—ã –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏

    sudo/wheel - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ

    docker - –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏

    adm - –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –ª–æ–≥–∞–º

    staff - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏

Sudoers –∞–Ω–∞–ª–∏–∑

    üìã –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ /etc/sudoers

    üìÅ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ –≤ /etc/sudoers.d/

    üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø—Ä–∞–≤–∞–º–∏ NOPASSWD

–õ–æ–≥–∏ –∏ —Ñ–∞–π–ª—ã

    –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏: logs/user-manager.log

    –û—Ç—á–µ—Ç—ã: reports/user-report-YYYYMMDD_HHMMSS.txt

    –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: configs/user-manager.conf

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

    getent - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö/–≥—Ä—É–ø–ø–∞—Ö

    awk, grep, cut - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

    passwd, chage - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ

    last, lastlog, who - –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Å—Å–∏—è—Ö

    sudo - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ sudo –¥–æ—Å—Ç—É–ø–∞

–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

    ‚úÖ –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã: Ubuntu 16.04+, Debian 8+, CentOS 7+, RHEL 7+

    ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: x86_64, ARM, ARM64

    ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: systemd, sysvinit

–ê–≤—Ç–æ—Ä

g1if

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º (—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–æ–≤–µ—Ä–∫–∞ shadow) —Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ root. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.
text


## üöÄ **–û–°–ù–û–í–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø –í –í–ï–†–°–ò–ò 2.0**

1. ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞—É–¥–∏—Ç** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –≥—Ä—É–ø–ø–∞—Ö
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –ø–∞—Ä–æ–ª—å–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏, UID, –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
3. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏, –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
4. ‚úÖ **–ê–Ω–∞–ª–∏–∑ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π** - sudo –¥–æ—Å—Ç—É–ø, —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≥—Ä—É–ø–ø—ã, –ø—Ä–∞–≤–∞
5. ‚úÖ **–£–º–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è** - —Ü–≤–µ—Ç–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
6. ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ —Ä—É—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
7. ‚úÖ **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä–æ–≥–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏
8. ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ä–µ–¥—ã** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
