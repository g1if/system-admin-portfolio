# Service Manager v2.0

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º, –∞–≤—Ç–æ-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á–µ—Ç–æ–≤.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ **–ú—É–ª—å—Ç–∏-—Å–∏—Å—Ç–µ–º–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - systemd, sysvinit, OpenRC
- üìä **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- üîÑ **–ê–≤—Ç–æ-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–±–æ—è—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- üìà **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤, –ª–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏
- üö® **–£–º–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è** - –∫–æ–Ω—Å–æ–ª—å, –ª–æ–≥–∏, email, telegram
- üìã **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ —Ä—É—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è
- üõ°Ô∏è **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏
- üîç **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤, –ø–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –û—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã
./scripts/service-manager.sh

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
./scripts/service-manager.sh monitor

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
./scripts/service-manager.sh start nginx
./scripts/service-manager.sh stop apache2
./scripts/service-manager.sh restart mysql

# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ª–æ–≥–∏
./scripts/service-manager.sh logs ssh 50
./scripts/service-manager.sh recover docker

# –°–ø–∏—Å–∫–∏ –∏ –æ—Ç—á–µ—Ç—ã
./scripts/service-manager.sh list
./scripts/service-manager.sh report
./scripts/service-manager.sh validate nginx

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
./scripts/service-manager.sh config

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
üîß Systemd (Ubuntu 16.04+, Debian 8+, CentOS 7+)

    –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

    –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–∞—Ö

    –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

‚öôÔ∏è SysV Init (Ubuntu 14.04, Debian 7, CentOS 6)

    –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

    –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

    –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

üêß OpenRC (Gentoo, Alpine Linux)

    –ë–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

    –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

    –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª:
bash

./scripts/service-manager.sh config

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ configs/service-manager.conf:
bash

# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
CRITICAL_SERVICES=("ssh" "nginx" "mysql" "postgresql" "docker" "apache2")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
MONITOR_REFRESH_RATE=5
MONITOR_TIMEOUT=300
MAX_RESTART_ATTEMPTS=3
RESTART_DELAY=5

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π
ALERT_ENABLED=true
ALERT_METHODS=("console" "log")

# –ê–≤—Ç–æ-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
ENABLE_AUTO_RECOVERY=true

# –û—Ç—á–µ—Ç—ã
AUTO_GENERATE_REPORT=true
REPORT_RETENTION_DAYS=7

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
bash

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
./scripts/service-manager.sh monitor

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
./scripts/service-manager.sh monitor 10 600  # –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ 10 —Å–µ–∫, —Ç–∞–π–º–∞—É—Ç 10 –º–∏–Ω

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
text

üöÄ ===========================================
   –ü–†–û–î–í–ò–ù–£–¢–´–ô –ú–ï–ù–ï–î–ñ–ï–† –°–ï–†–í–ò–°–û–í v2.0
   Tue Oct 28 22:30:45 PM EET 2025
   –ê–≤—Ç–æ—Ä: g1if
===========================================

üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–∏—Å–æ–≤ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫)
‚è∞ –¢–∞–π–º–∞—É—Ç: 300 —Å–µ–∫ | –î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C

üõ†Ô∏è –ú–û–ù–ò–¢–û–†–ò–ù–ì –°–ï–†–í–ò–°–û–í - –¶–∏–∫–ª #15 (22:30:45)
–ü—Ä–æ—à–ª–æ: 75 —Å–µ–∫ | –û—Å—Ç–∞–ª–æ—Å—å: 225 —Å–µ–∫

üîß –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:
  ‚óè nginx.service - A high performance web server and a reverse proxy server

üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
  ‚úÖ ssh: active
  ‚úÖ nginx: active
  ‚úÖ mysql: active
  üîµ docker: not-found
  ‚úÖ apache2: active

üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  –í—Å–µ–≥–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: 5
  –ü—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: 0
  –°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: 5 —Å–µ–∫

–ê–≤—Ç–æ-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–±–æ—è—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
bash

# –†—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
./scripts/service-manager.sh recover nginx

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤ —Ä–µ–∂–∏–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
./scripts/service-manager.sh monitor

–ü—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

    ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–±–æ—è

    üîÑ –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

    üìã –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

    üì¢ –û–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
bash

./scripts/service-manager.sh logs mysql 100

–ü–æ–∏—Å–∫ –≤:

    journalctl (systemd)

    /var/log/ —Ñ–∞–π–ª—ã

    –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏

–í–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
bash

./scripts/service-manager.sh validate nginx

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:

    –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞

    –°—Ç–∞—Ç—É—Å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

    –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
bash

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (–ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ)
./scripts/service-manager.sh

# –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
./scripts/service-manager.sh report

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞:

    –°—Ç–∞—Ç—É—Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

    –°–ø–∏—Å–æ–∫ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

    –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
bash

./scripts/service-manager.sh recover nginx
./scripts/service-manager.sh logs nginx 20
./scripts/service-manager.sh status nginx

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
bash

# –î–ª–∏—Ç–µ–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –∞–≤—Ç–æ-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
./scripts/service-manager.sh monitor 5 3600

–ê—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã
bash

./scripts/service-manager.sh
./scripts/service-manager.sh report
./scripts/service-manager.sh list

–õ–æ–≥–∏ –∏ —Ñ–∞–π–ª—ã

    –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏: logs/service-manager.log

    –û—Ç—á–µ—Ç—ã: reports/service-report-YYYYMMDD_HHMMSS.txt

    –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: configs/service-manager.conf

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

    systemctl / service / rc-status

    journalctl (–¥–ª—è systemd)

    sudo (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏)

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ

    mail - –¥–ª—è email –æ–ø–æ–≤–µ—â–µ–Ω–∏–π

    curl - –¥–ª—è telegram –æ–ø–æ–≤–µ—â–µ–Ω–∏–π

–ê–≤—Ç–æ—Ä

g1if

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –¥–æ—Å—Ç—É–ø–Ω–æ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
text


## üöÄ **–û–°–ù–û–í–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø –í –í–ï–†–°–ò–ò 2.0**

1. ‚úÖ **–ú—É–ª—å—Ç–∏-—Å–∏—Å—Ç–µ–º–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - systemd, sysvinit, OpenRC
2. ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Ü–≤–µ—Ç–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è, —Ç–∞–π–º–∞—É—Ç—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
3. ‚úÖ **–ê–≤—Ç–æ-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
4. ‚úÖ **–£–º–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –æ–ø–æ–≤–µ—â–µ–Ω–∏–π
5. ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ —Ä—É—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
6. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤
7. ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
8. ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≥–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª
