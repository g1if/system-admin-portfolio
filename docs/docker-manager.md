# Docker Manager v2.0

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –æ–±—Ä–∞–∑–æ–≤ –∏ –∫–æ–º–ø–æ–Ω–æ–≤–æ–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –±—ç–∫–∞–ø–æ–≤ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üê≥ **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–±—Ä–∞–∑—ã, volumes, —Å–µ—Ç–∏
- üìä **–î–µ—Ç–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üíæ **–£–º–Ω—ã–µ –±—ç–∫–∞–ø—ã** - –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- üîÑ **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ –±—ç–∫–∞–ø–æ–≤
- üßπ **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- üìà **–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üöÄ **Docker Compose** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–Ω–æ–≥–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
./scripts/docker-manager.sh ps

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
./scripts/docker-manager.sh stats

# –£–º–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
./scripts/docker-manager.sh logs nginx 100

# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –±—ç–∫–∞–ø
./scripts/docker-manager.sh backup mysql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
./scripts/docker-manager.sh restore backups/mysql_backup

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
./scripts/docker-manager.sh monitor

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Compose –ø—Ä–æ–µ–∫—Ç–æ–º
./scripts/docker-manager.sh compose ./myapp up

–ö–æ–º–∞–Ω–¥—ã
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
ps - –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
text

üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  üü¢ –ó–∞–ø—É—â–µ–Ω–æ: 3
  üî¥ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: 2
  üì¶ –í—Å–µ–≥–æ: 5

üü¢ –ó–ê–ü–£–©–ï–ù–ù–´–ï –ö–û–ù–¢–ï–ô–ù–ï–†–´:
NAMES     IMAGE          STATUS       PORTS                     RUNNING FOR
nginx     nginx:latest   Up 2 hours   0.0.0.0:80->80/tcp       2 hours
mysql     mysql:8.0      Up 2 hours   3306/tcp, 33060/tcp      2 hours

logs <container> [lines] [follow] - –£–º–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∏ —Ä–µ–∂–∏–º–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

–ü—Ä–∏–º–µ—Ä—ã:
bash

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
./scripts/docker-manager.sh logs nginx

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
./scripts/docker-manager.sh logs nginx 100

# –†–µ–∂–∏–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
./scripts/docker-manager.sh logs nginx 50 true

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

    start <container> - –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

    stop <container> - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

    restart <container> - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

    remove <container> - –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞–º–∏
images - –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–∑–æ–≤

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ Docker –æ–±—Ä–∞–∑—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ä–∞–∑–º–µ—Ä–∞—Ö –∏ –¥–∞—Ç–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è.
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
stats - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU, –ø–∞–º—è—Ç–∏, —Å–µ—Ç–∏ –∏ –¥–∏—Å–∫–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
text

üìà –†–ï–ê–õ–¨–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø:
NAME    CPU %   MEM USAGE / LIMIT   MEM %   NET I/O       BLOCK I/O   PIDS
nginx   0.15%   25MiB / 1.94GiB     1.26%   1.45kB/2.89kB 0B/0B       2
mysql   1.23%   350MiB / 1.94GiB    17.63%  1.2MB/4.5MB   0B/16.4kB   30

üíæ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –î–ò–°–ö–ê DOCKER:
TYPE            TOTAL   ACTIVE   SIZE      RECLAIMABLE
Images          5       3        1.24GB    610.7MB (49%)
Containers      3       3        62B       0B (0%)
Local Volumes   4       3        420.4MB   125.2MB (29%)
Build Cache     0       0        0B        0B

monitor - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–†–µ–∂–∏–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
–ë—ç–∫–∞–ø—ã –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
backup <container> [name] - –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –±—ç–∫–∞–ø

–°–æ–∑–¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–∫–ª—é—á–∞—è:

    –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

    –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (inspect)

    –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏

    Volumes (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

    –ú–∞–Ω–∏—Ñ–µ—Å—Ç –±—ç–∫–∞–ø–∞

–ü—Ä–∏–º–µ—Ä:
bash

./scripts/docker-manager.sh backup mysql database_backup_20251028

restore <path> [name] - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑ —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞.
Docker Compose
compose <path> [action] - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏

–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Docker Compose –ø—Ä–æ–µ–∫—Ç–æ–≤:

–î–µ–π—Å—Ç–≤–∏—è:

    ps - —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

    up - –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

    down - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

    restart - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

    logs - –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

    stop - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

    start - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

    build - –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤

–ü—Ä–∏–º–µ—Ä—ã:
bash

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
./scripts/docker-manager.sh compose ./myapp up

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
./scripts/docker-manager.sh compose ./myapp ps

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
./scripts/docker-manager.sh compose ./myapp logs

–°–∏—Å—Ç–µ–º–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
cleanup - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ Docker —Å–∏—Å—Ç–µ–º—ã:

    –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏)

    –£–¥–∞–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

    –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤

    –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö volumes –∏ —Å–µ—Ç–µ–π

    –û—á–∏—Å—Ç–∫–∞ builder cache

metrics - –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä.
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª:
bash

./scripts/docker-manager.sh config

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ configs/docker-manager.conf:
bash

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
AUTO_REMOVE_STOPPED_CONTAINERS=false
AUTO_REMOVE_DANGLING_IMAGES=false
AUTO_UPDATE_CONTAINERS=false

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ç–∫–∞–ø–∞
BACKUP_PATH="/home/defo/projects/system-admin/docker-backups"
BACKUP_RETENTION_DAYS=7
ENABLE_VOLUME_BACKUP=true

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
MONITOR_INTERVAL=5
ENABLE_METRICS_COLLECTION=true
METRICS_RETENTION_DAYS=30

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
ENABLE_SECURITY_SCAN=false
SCAN_VULNERABILITIES=false

# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è (—á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª)
EXCLUDE_CONTAINERS=""

# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏)
PRIORITY_CONTAINERS="database redis"

# Docker Compose –ø—Ä–æ–µ–∫—Ç—ã
COMPOSE_PROJECTS=(
    "/path/to/project1/docker-compose.yml"
    "/path/to/project2/docker-compose.yml"
)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
CPU_LIMIT=""
MEMORY_LIMIT=""
RESTART_POLICY="unless-stopped"

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
ENABLE_NOTIFICATIONS=false
NOTIFICATION_METHOD="log"

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
bash

# –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
./scripts/docker-manager.sh monitor

–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
bash

# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
./scripts/docker-manager.sh backup mysql

# –ë—ç–∫–∞–ø –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
./scripts/docker-manager.sh backup nginx

# –ë—ç–∫–∞–ø —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∏–º–µ–Ω–µ–º
./scripts/docker-manager.sh backup redis redis_backup_$(date +%Y%m%d)

–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è
bash

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
./scripts/docker-manager.sh restore backups/mysql_backup_20251028 restored_mysql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
./scripts/docker-manager.sh ps
./scripts/docker-manager.sh logs restored_mysql

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ Docker Compose
bash

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./scripts/docker-manager.sh compose ./my-app up

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è
./scripts/docker-manager.sh compose ./my-app ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
./scripts/docker-manager.sh compose ./my-app logs

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./scripts/docker-manager.sh compose ./my-app down

–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
bash

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
./scripts/docker-manager.sh cleanup

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
./scripts/docker-manager.sh stats

# –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
./scripts/docker-manager.sh metrics

–§–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
–ë—ç–∫–∞–ø—ã

    –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: docker-backups/

    –§–æ—Ä–º–∞—Ç: container_backup_YYYYMMDD_HHMMSS/

    –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

        container.tar.gz - —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

        inspect.json - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

        last_logs.log - –ª–æ–≥–∏

        volume_*.tar.gz - –±—ç–∫–∞–ø—ã volumes

        manifest.txt - –æ–ø–∏—Å–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞

–õ–æ–≥–∏

    –§–∞–π–ª: logs/docker-manager.log

    –§–æ—Ä–º–∞—Ç: [timestamp] [level] [action] message

–ú–µ—Ç—Ä–∏–∫–∏

    –§–∞–π–ª: metrics/docker-metrics-YYYYMMDD.csv

    –§–æ—Ä–º–∞—Ç: timestamp,action,container,result

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

    –§–∞–π–ª: configs/docker-manager.conf

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

    Docker - —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏

    Bash 4.0+ - –æ–±–æ–ª–æ—á–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

    docker-compose –∏–ª–∏ docker compose - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞–º–∏

    gzip - –¥–ª—è —Å–∂–∞—Ç–∏—è –±—ç–∫–∞–ø–æ–≤

    jq - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ JSON (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
Cron –∑–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
bash

# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –≤ 2:00
0 2 * * * /path/to/system-admin/scripts/docker-manager.sh backup mysql

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 3:00
0 3 * * 0 /path/to/system-admin/scripts/docker-manager.sh cleanup

# –ï–∂–µ—á–∞—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è
0 * * * * /path/to/system-admin/scripts/docker-manager.sh stats

Systemd —Å–ª—É–∂–±—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
ini

[Unit]
Description=My Application
Requires=docker.service
After=docker.service

[Service]
Restart=always
ExecStart=/path/to/system-admin/scripts/docker-manager.sh start myapp
ExecStop=/path/to/system-admin/scripts/docker-manager.sh stop myapp

[Install]
WantedBy=multi-user.target

–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

    ‚úÖ Docker –≤–µ—Ä—Å–∏–∏: 20.10+, 23.0+, 24.0+

    ‚úÖ Docker Compose: v1, v2 (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –æ–±–æ–∏–º–∏)

    ‚úÖ –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã: Linux, macOS, WSL2

    ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: x86_64, ARM64

    ‚úÖ –§–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã: overlay2, aufs, btrfs, zfs

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

    üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ Docker

    üö´ –ò—Å–∫–ª—é—á–µ–Ω–∏—è - –∑–∞—â–∏—Ç–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è

    üìù –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - –∞—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

    üíæ –ë—ç–∫–∞–ø—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
bash

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
./scripts/docker-manager.sh monitor

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
./scripts/docker-manager.sh stats

# –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞
./scripts/docker-manager.sh cleanup

–ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
bash

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
./scripts/docker-manager.sh logs problem_container 100

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
./scripts/docker-manager.sh ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
./scripts/docker-manager.sh restart problem_container

–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è
bash

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
./scripts/docker-manager.sh restore backup_path

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
./scripts/docker-manager.sh ps
./scripts/docker-manager.sh logs restored_container

–ê–≤—Ç–æ—Ä

g1if

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã –±–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–æ–≤–µ—Ä–∫–∞–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è–º. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –±—ç–∫–∞–ø–æ–≤, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.
text


## üöÄ **–û–°–ù–û–í–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø –í –í–ï–†–°–ò–ò 2.0**

1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
3. ‚úÖ **–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –±—ç–∫–∞–ø—ã** - —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ + volumes
4. ‚úÖ **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ø–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ –±—ç–∫–∞–ø–æ–≤
5. ‚úÖ **–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä–∞
6. ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
7. ‚úÖ **Docker Compose v2** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π Compose
8. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —É–¥–∞–ª–µ–Ω–∏–π
